name: Dependabot Release

on:
  push:
    branches: [ main ]
  workflow_dispatch: # Enables manual trigger via GitHub web
    inputs:
      version-bump:
        description: 'Version bump type'
        required: false
        default: 'patch'
        type: choice
        options:
          - patch
          - minor
          - major

permissions:
  contents: write  # To create tags and releases

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - name: Dependabot Release
        uses: phucbm/dependabot-release-action@v1 #https://github.com/marketplace/actions/dependabot-release-action
        with:
          version-bump: ${{ github.event.inputs.version-bump || 'patch' }}  # Use manual input or default to patch
          default-branch: 'main'   # Set your default branch name