/*!
 * @phucbm/magnetic-button 1.1.0
 * https://phucbm.github.io/magnetic-button/
 *
 * @license MIT
 * @author: phucbm, https://github.com/phucbm
 */
"use strict";var MagneticButton=(()=>{var h=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var v=(s,t)=>{for(var e in t)h(s,e,{get:t[e],enumerable:!0})},E=(s,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of x(t))!b.call(s,n)&&n!==e&&h(s,n,{get:()=>t[n],enumerable:!(i=M(t,n))||i.enumerable});return s};var w=s=>E(h({},"__esModule",{value:!0}),s);var L={};v(L,{default:()=>z});function y(s,t,e=.1){return s*(1-e)+t*e}var u=y;var a=class a{constructor(t,e={}){this.settings={activeClass:"magnetizing",attraction:.3,distance:50,speed:.1,disableOnTouch:!0,maxX:void 0,maxY:void 0,onEnter:()=>{},onExit:()=>{},onUpdate:()=>{}};this.isEnter=!1;this.lerpPos={x:0,y:0};this.target=null;this.boundMagnetize=null;if(!t){document.querySelectorAll("[data-magnetic]").forEach(r=>{a.initializedElements.has(r)||new a(r,e)});return}if(a.initializedElements.has(t))return;a.initializedElements.add(t);let i=parseFloat(t.getAttribute("data-distance")||""),n=parseFloat(t.getAttribute("data-attraction")||""),o=parseFloat(t.getAttribute("data-speed")||""),l=parseFloat(t.getAttribute("data-max-x")||""),c=parseFloat(t.getAttribute("data-max-y")||"");if(this.settings={...this.settings,attraction:isNaN(n)?e.attraction??this.settings.attraction:n,distance:isNaN(i)?e.distance??this.settings.distance:i,speed:isNaN(o)?e.speed??this.settings.speed:o,maxX:isNaN(l)?e.maxX??this.settings.maxX:l,maxY:isNaN(c)?e.maxY??this.settings.maxY:c,...e},this.settings.disableOnTouch&&a.isTouchDevice()){a.initializedElements.delete(t);return}this.target=t,this.boundMagnetize=r=>this.magnetize(t,r),window.addEventListener("mousemove",this.boundMagnetize),t.classList.add("is-magnetized")}static isTouchDevice(){return window.matchMedia("(hover: none) and (pointer: coarse)").matches}magnetize(t,e){let i=this.calculateCoordinates(t,e.clientX,e.clientY);i.distance<this.settings.distance?(this.animateButton(t,i.deltaX,i.deltaY),this.isEnter||(this.isEnter=!0,t.classList.add(this.settings.activeClass),this.settings.onEnter(i)),this.settings.onUpdate(i)):(this.animateButton(t,0,0),this.isEnter&&(this.isEnter=!1,t.classList.remove(this.settings.activeClass),this.settings.onExit(i)))}animateButton(t,e,i){this.lerpPos.x=u(this.lerpPos.x,e,this.settings.speed),this.lerpPos.y=u(this.lerpPos.y,i,this.settings.speed);let n=this.lerpPos.x,o=this.lerpPos.y;this.settings.maxX!==void 0&&(n=Math.max(-this.settings.maxX,Math.min(this.settings.maxX,n))),this.settings.maxY!==void 0&&(o=Math.max(-this.settings.maxY,Math.min(this.settings.maxY,o))),t.style.transform=`translate(${n}px, ${o}px)`}calculateCoordinates(t,e,i){let n=t.getBoundingClientRect(),o=n.left+t.offsetWidth/2,l=n.top+t.offsetHeight/2,c=(e-o)*this.settings.attraction,r=(i-l)*this.settings.attraction,g=Math.max(0,Math.abs(e-o)-t.offsetWidth/2),f=Math.max(0,Math.abs(i-l)-t.offsetHeight/2),p=Math.sqrt(g*g+f*f);return{deltaX:c,deltaY:r,distance:p}}getMagnetizedArea(){return this.target?{width:this.target.offsetWidth+this.settings.distance*2,height:this.target.offsetHeight+this.settings.distance*2}:{width:0,height:0}}destroy(){this.boundMagnetize&&(window.removeEventListener("mousemove",this.boundMagnetize),this.boundMagnetize=null),this.target&&(this.target.classList.remove("is-magnetized",this.settings.activeClass),this.target.style.transform="",a.initializedElements.delete(this.target),this.target=null),this.isEnter=!1,this.lerpPos={x:0,y:0}}};a.initializedElements=new WeakSet;var d=a;typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>new d):new d);new d;var m=d;m.init=(s,t)=>new d(s,t);var z=m;typeof window<"u"&&(window.MagneticButton=m);return w(L);})();
/*! Bundled license information:

@phucbm/lerp/dist/index.js:
  (*!
   * @phucbm/lerp 1.0.1
   * https://github.com/phucbm/lerp#readme
   *
   * @license MIT
   * @author: phucbm, https://github.com/phucbm
   *)
*/
//# sourceMappingURL=magnetic-button.min.js.map