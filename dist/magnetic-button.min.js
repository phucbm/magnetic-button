/*!
 * @phucbm/magnetic-button 0.0.6
 * https://phucbm.github.io/magnetic-button/
 *
 * @license MIT
 * @author: phucbm, https://github.com/phucbm
 */
"use strict";var MagneticButton=(()=>{var d=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var M=(i,t)=>{for(var e in t)d(i,e,{get:t[e],enumerable:!0})},v=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of g(t))!E.call(i,a)&&a!==e&&d(i,a,{get:()=>t[a],enumerable:!(n=h(t,a))||n.enumerable});return i};var b=i=>v(d({},"__esModule",{value:!0}),i);var y={};M(y,{default:()=>x});function w(i,t,e=.1){return i*(1-e)+t*e}var l=w;var r=class r{constructor(t,e={}){this.settings={activeClass:"magnetizing",attraction:.3,distance:200,fraction:.1,onEnter:()=>{},onExit:()=>{},onUpdate:()=>{}};this.isEnter=!1;this.lerpPos={x:0,y:0};if(!t){document.querySelectorAll("[data-magnetic]").forEach(o=>{r.initializedElements.has(o)||new r(o,e)});return}if(r.initializedElements.has(t))return;r.initializedElements.add(t);let n=parseFloat(t.getAttribute("data-distance")||""),a=parseFloat(t.getAttribute("data-attraction")||""),c=parseFloat(t.getAttribute("data-fraction")||"");this.settings={...this.settings,attraction:isNaN(a)?e.attraction??this.settings.attraction:a,distance:isNaN(n)?e.distance??this.settings.distance:n,fraction:isNaN(c)?e.fraction??this.settings.fraction:c,...e},window.addEventListener("mousemove",o=>this.magnetize(t,o)),t.classList.add("is-magnetized")}magnetize(t,e){let n=this.calculateCoordinates(t,e.clientX,e.clientY);n.distance<this.settings.distance?(this.animateButton(t,n.deltaX,n.deltaY),this.isEnter||(this.isEnter=!0,t.classList.add(this.settings.activeClass),this.settings.onEnter(n)),this.settings.onUpdate(n)):(this.animateButton(t,0,0),this.isEnter&&(this.isEnter=!1,t.classList.remove(this.settings.activeClass),this.settings.onExit(n)))}animateButton(t,e,n){this.lerpPos.x=l(this.lerpPos.x,e,this.settings.fraction),this.lerpPos.y=l(this.lerpPos.y,n,this.settings.fraction),t.style.transform=`translate(${this.lerpPos.x}px, ${this.lerpPos.y}px)`}calculateCoordinates(t,e,n){let a=t.getBoundingClientRect(),c=a.left+t.offsetWidth/2,o=a.top+t.offsetHeight/2,f=(e-c)*this.settings.attraction,p=(n-o)*this.settings.attraction,m=Math.sqrt(Math.pow(e-c,2)+Math.pow(n-o,2));return{deltaX:f,deltaY:p,distance:m}}};r.initializedElements=new WeakSet;var s=r;typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>new s):new s);new s;var u=s;u.init=(i,t)=>new s(i,t);var x=u;typeof window<"u"&&(window.MagneticButton=u);return b(y);})();
/*! Bundled license information:

@phucbm/lerp/dist/index.js:
  (*!
   * @phucbm/lerp 1.0.1
   * https://github.com/phucbm/lerp#readme
   *
   * @license MIT
   * @author: phucbm, https://github.com/phucbm
   *)
*/
//# sourceMappingURL=magnetic-button.min.js.map