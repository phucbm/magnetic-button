/*!
 * @phucbm/magnetic-button v0.0.2
 * A lightweight TypeScript library that creates smooth magnetic attraction effects for HTML elements
 * @license MIT
 */

"use strict";var MagneticButton=(()=>{var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var M=(i,t,e)=>t in i?l(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var v=(i,t)=>{for(var e in t)l(i,e,{get:t[e],enumerable:!0})},b=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of g(t))!E.call(i,a)&&a!==e&&l(i,a,{get:()=>t[a],enumerable:!(n=h(t,a))||n.enumerable});return i};var w=i=>b(l({},"__esModule",{value:!0}),i);var d=(i,t,e)=>M(i,typeof t!="symbol"?t+"":t,e);var L={};v(L,{default:()=>x});var r=class r{constructor(t,e={}){d(this,"settings",{activeClass:"magnetizing",attraction:.3,distance:200,fraction:.1,onEnter:()=>{},onExit:()=>{},onUpdate:()=>{}});d(this,"isEnter",!1);d(this,"lerpPos",{x:0,y:0});if(!t){document.querySelectorAll("[data-magnetic]").forEach(o=>{r.initializedElements.has(o)||new r(o,e)});return}if(r.initializedElements.has(t))return;r.initializedElements.add(t);let n=parseFloat(t.getAttribute("data-distance")||""),a=parseFloat(t.getAttribute("data-attraction")||""),c=parseFloat(t.getAttribute("data-fraction")||"");this.settings={...this.settings,attraction:isNaN(a)?e.attraction??this.settings.attraction:a,distance:isNaN(n)?e.distance??this.settings.distance:n,fraction:isNaN(c)?e.fraction??this.settings.fraction:c,...e},window.addEventListener("mousemove",o=>this.magnetize(t,o)),t.classList.add("is-magnetized")}magnetize(t,e){let n=this.calculateCoordinates(t,e.clientX,e.clientY);n.distance<this.settings.distance?(this.animateButton(t,n.deltaX,n.deltaY),this.isEnter||(this.isEnter=!0,t.classList.add(this.settings.activeClass),this.settings.onEnter(n)),this.settings.onUpdate(n)):(this.animateButton(t,0,0),this.isEnter&&(this.isEnter=!1,t.classList.remove(this.settings.activeClass),this.settings.onExit(n)))}lerp(t,e,n=this.settings.fraction){return t*(1-n)+e*n}animateButton(t,e,n){this.lerpPos.x=this.lerp(this.lerpPos.x,e),this.lerpPos.y=this.lerp(this.lerpPos.y,n),t.style.transform=`translate(${this.lerpPos.x}px, ${this.lerpPos.y}px)`}calculateCoordinates(t,e,n){let a=t.getBoundingClientRect(),c=a.left+t.offsetWidth/2,o=a.top+t.offsetHeight/2,p=(e-c)*this.settings.attraction,m=(n-o)*this.settings.attraction,f=Math.sqrt(Math.pow(e-c,2)+Math.pow(n-o,2));return{deltaX:p,deltaY:m,distance:f}}};d(r,"initializedElements",new WeakSet);var s=r;typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>new s):new s);new s;var u=s;u.init=(i,t)=>new s(i,t);var x=u;typeof window<"u"&&(window.MagneticButton=u);return w(L);})();
//# sourceMappingURL=magnetic-button.min.js.map