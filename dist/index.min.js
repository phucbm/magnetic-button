/*!
 * @phucbm/magnetic-button 0.0.5
 * https://phucbm.github.io/magnetic-button/
 *
 * @license MIT
 * @author: phucbm, https://github.com/phucbm
 */
import c from"@phucbm/lerp";var a=class a{constructor(t,i={}){this.settings={activeClass:"magnetizing",attraction:.3,distance:200,fraction:.1,onEnter:()=>{},onExit:()=>{},onUpdate:()=>{}};this.isEnter=!1;this.lerpPos={x:0,y:0};if(!t){document.querySelectorAll("[data-magnetic]").forEach(n=>{a.initializedElements.has(n)||new a(n,i)});return}if(a.initializedElements.has(t))return;a.initializedElements.add(t);let e=parseFloat(t.getAttribute("data-distance")||""),s=parseFloat(t.getAttribute("data-attraction")||""),o=parseFloat(t.getAttribute("data-fraction")||"");this.settings={...this.settings,attraction:isNaN(s)?i.attraction??this.settings.attraction:s,distance:isNaN(e)?i.distance??this.settings.distance:e,fraction:isNaN(o)?i.fraction??this.settings.fraction:o,...i},window.addEventListener("mousemove",n=>this.magnetize(t,n)),t.classList.add("is-magnetized")}magnetize(t,i){let e=this.calculateCoordinates(t,i.clientX,i.clientY);e.distance<this.settings.distance?(this.animateButton(t,e.deltaX,e.deltaY),this.isEnter||(this.isEnter=!0,t.classList.add(this.settings.activeClass),this.settings.onEnter(e)),this.settings.onUpdate(e)):(this.animateButton(t,0,0),this.isEnter&&(this.isEnter=!1,t.classList.remove(this.settings.activeClass),this.settings.onExit(e)))}animateButton(t,i,e){this.lerpPos.x=c(this.lerpPos.x,i,this.settings.fraction),this.lerpPos.y=c(this.lerpPos.y,e,this.settings.fraction),t.style.transform=`translate(${this.lerpPos.x}px, ${this.lerpPos.y}px)`}calculateCoordinates(t,i,e){let s=t.getBoundingClientRect(),o=s.left+t.offsetWidth/2,n=s.top+t.offsetHeight/2,d=(i-o)*this.settings.attraction,l=(e-n)*this.settings.attraction,u=Math.sqrt(Math.pow(i-o,2)+Math.pow(e-n,2));return{deltaX:d,deltaY:l,distance:u}}};a.initializedElements=new WeakSet;var r=a;typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>new r):new r);var m=r;export{r as MagneticButton,m as default};
//# sourceMappingURL=index.min.js.map